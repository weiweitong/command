\newpage
\section{HSM用户界面}
\subsection{分配HSM用户请求}
具体API如下：
\begin{lstlisting}[language={c++},numbers=left]
    /*
    此API的目的是用特定的特征去分配HSM用户请求
    如果返回一个被分配的结构则成功，否则失败。
    */
    struct hsm_user_request *llapi_hsm_user_request_alloc(int itemcount, int data_len);
\end{lstlisting}
此结构应该能使用free()函数进行释放。

\subsection{发送HSM请求}
具体API如下：
\begin{lstlisting}[language={c++},numbers=left]
    /*
    此API的目的是用特定的特征去分配HSM用户请求
    返回0表示发送成功，负数表示发送失败
    */
    int llapi_hsm_request(
        const char *path,   // 待操作文件的全路径
        const struct hsm_user_request *request   // 需要向Lustre发送的用户请求
    );
\end{lstlisting}

\subsection{返回当前HSM请求}
\begin{lstlisting}[language={c++},numbers=left]
    /*
    此API的目的是通过被path所指的文件，返回其当前的HSM请求
    返回0表示发送成功，负数表示发送失败
    */
    int llapi_hsm_current_action(
        const char *path, // 通过path获取所指的文件
        struct hsm_current_action *hca // 被调用者所分配，指向当前文件行为
    );
\end{lstlisting}

